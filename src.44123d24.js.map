{"version":3,"sources":["src/index.js"],"names":["start","interval","document","getElementById","getRandom","items","Math","floor","random","length","getRandomQueryParams","page","min","max","ceil","sortBy","withGenres","id","name","onclick","getMovie","queryParam","url","fetch","then","result","json","data","console","log","movies","movie","results","title","originalTitle","original_title","posterPath","poster_path","imageUrl","newHTML","innerHTML","catch","err","alert","secondsInput","minutesInput","done","secondsDisplay","minutesDisplay","addEventListener","e","preventDefault","timer","minutes","parseInt","value","seconds","innerText","toString","setInterval","clearInterval","p","createElement","appendChild"],"mappings":"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","file":"src.44123d24.js","sourceRoot":"..","sourcesContent":["(function () {\n  let start = document.getElementById(\"start\");\n  function getRandom(items) {\n    return items[Math.floor(Math.random() * items.length)];\n  }\n\n  function getRandomGenre() {\n    const genres = [\n      {\n        id: 28,\n        name: \"Action\",\n      },\n      {\n        id: 12,\n        name: \"Adventure\",\n      },\n      {\n        id: 16,\n        name: \"Animation\",\n      },\n      {\n        id: 35,\n        name: \"Comedy\",\n      },\n      {\n        id: 80,\n        name: \"Crime\",\n      },\n      {\n        id: 99,\n        name: \"Documentary\",\n      },\n      {\n        id: 18,\n        name: \"Drama\",\n      },\n      {\n        id: 10751,\n        name: \"Family\",\n      },\n      {\n        id: 14,\n        name: \"Fantasy\",\n      },\n      {\n        id: 36,\n        name: \"History\",\n      },\n      {\n        id: 27,\n        name: \"Horror\",\n      },\n      {\n        id: 10402,\n        name: \"Music\",\n      },\n      {\n        id: 9648,\n        name: \"Mystery\",\n      },\n      {\n        id: 10749,\n        name: \"Romance\",\n      },\n      {\n        id: 878,\n        name: \"Science Fiction\",\n      },\n      {\n        id: 10770,\n        name: \"TV Movie\",\n      },\n      {\n        id: 53,\n        name: \"Thriller\",\n      },\n      {\n        id: 10752,\n        name: \"War\",\n      },\n      {\n        id: 37,\n        name: \"Western\",\n      },\n    ];\n    return getRandom(genres).id;\n  }\n\n  function randomSortBy() {\n    const values = [\n      \"popularity.asc\",\n      \"popularity.desc\",\n      \"release_date.asc\",\n      \"release_date.desc\",\n      \"revenue.asc\",\n      \"revenue.desc\",\n      \"primary_release_date.asc\",\n      \"primary_release_date.desc\",\n      \"original_title.asc\",\n      \"original_title.desc\",\n      \"vote_average.asc\",\n      \"vote_average.desc\",\n      \"vote_count.asc\",\n      \"vote_count.desc\",\n    ];\n    return getRandom(values);\n  }\n  /**\n   * Returns a random integer between min (inclusive) and max (inclusive).\n   * The value is no lower than min (or the next integer greater than min\n   * if min isn't an integer) and no greater than max (or the next integer\n   * lower than max if max isn't an integer).\n   * Using Math.round() will give you a non-uniform distribution!\n   */\n  function getRandomInt(min, max) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  function getRandomQueryParams() {\n    const page = getRandomInt(1, 5);\n    const sortBy = randomSortBy();\n    const withGenres = getRandomGenre();\n    return `page=${page}&sort_by=${sortBy}&with_genres=${withGenres}`;\n  }\n\n  function getMovie() {\n    const queryParam = getRandomQueryParams();\n    const url = `https://api.themoviedb.org/3/movie/popular?api_key=4bb244c6458b3ac69d076d9cff9adb88&language=es&${queryParam}`;\n\n    fetch(url)\n      .then((result) => {\n        return result.json();\n      })\n      .then((data) => {\n        console.log(data);\n        const movies = data.results;\n        const movie = getRandom(movies);\n        const title = movie.title;\n        const originalTitle = movie.original_title;\n        const posterPath = movie.poster_path;\n        const imageUrl = `https://image.tmdb.org/t/p/w200/${posterPath}`;\n        const newHTML = `\n      <div class=\"movie-found\">\n        <img src=\"${imageUrl}\"/>\n        <h3>${title}</h3>\n        <p>${originalTitle}<p>\n\n      </div>\n      `;\n        document.getElementById(\"movie-output\").innerHTML = newHTML;\n      })\n      .catch(function (err) {\n        alert(err);\n      });\n  }\n\n  document.getElementById(\"movie-button\").onclick = getMovie;\n\n  let interval;\n  let secondsInput = document.getElementById(\"seconds\");\n  let minutesInput = document.getElementById(\"minutes\");\n  let done = document.getElementById(\"done\");\n  let secondsDisplay = document.getElementById(\"secondsDisplay\");\n  let minutesDisplay = document.getElementById(\"minutesDisplay\");\n\n  start.addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    timer();\n  });\n\n  timer = () => {\n    let minutes = parseInt(minutesInput.value);\n    let seconds = parseInt(secondsInput.value);\n    if (minutes === \"\") {\n      minutesDisplay.innerText = \"00\";\n    }\n    seconds < 10\n      ? (secondsDisplay.innerText = \"0\" + seconds.toString())\n      : (secondsDisplay.innerText = seconds.toString());\n    minutes < 10\n      ? (minutesDisplay.innerText = \"0\" + minutes.toString())\n      : (minutesDisplay.innerText = minutes.toString());\n\n    interval = setInterval(function () {\n      if (seconds > 0) {\n        seconds--;\n        seconds < 10\n          ? (secondsDisplay.innerText = \"0\" + seconds.toString())\n          : (secondsDisplay.innerText = seconds.toString());\n        console.log(seconds);\n      } else if (minutes > 0) {\n        minutes--;\n        seconds = 60;\n        seconds--;\n        seconds < 10\n          ? (secondsDisplay.innerText = \"0\" + seconds.toString())\n          : (secondsDisplay.innerText = seconds.toString());\n        minutes < 10\n          ? (minutesDisplay.innerText = \"0\" + minutes.toString())\n          : (minutesDisplay.innerText = minutes.toString());\n        console.log(seconds);\n        console.log(minutes);\n      } else {\n        clearInterval(interval);\n        let p = document.createElement(\"p\");\n        p.innerText = \"TIME'S UP!\";\n        done.appendChild(p);\n        console.log(\"done\");\n      }\n    }, 1000);\n  };\n})();\n"]}